{"name":"65731bd5-3735-4eb8-808f-1e1ea81cb9ee","id":"/providers/Microsoft.Flow/flows/65731bd5-3735-4eb8-808f-1e1ea81cb9ee","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"uploadReceipt","definition":{"metadata":{"workflowEntityId":null,"processAdvisorMetadata":null,"flowChargedByPaygo":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"flowclientsuspensionreasondetails":null,"creator":{"id":"e54cd625-9ed4-4384-97a9-4baac4a10239","type":"User","tenantId":"378c2b5d-0a98-4fe3-8379-e36ec4e857cb"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2024-03-18T11:31:25.2844517Z","connectionKeySavedTimeKey":"2024-03-18T11:31:25.2844517Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$authentication":{"defaultValue":{},"type":"SecureObject"},"$connections":{"defaultValue":{},"type":"Object"}},"triggers":{"manual":{"type":"Request","kind":"PowerAppV2","inputs":{"schema":{"type":"object","properties":{"file":{"description":"","title":"File","type":"object","properties":{"contentBytes":{"type":"string","format":"byte"},"name":{"type":"string"}},"x-ms-content-hint":"FILE","x-ms-dynamically-added":true},"text":{"description":"","title":"jobID","type":"string","x-ms-content-hint":"TEXT","x-ms-dynamically-added":true}},"required":["file","text"]}}}},"actions":{"Create_file":{"runAfter":{},"type":"OpenApiConnection","inputs":{"parameters":{"dataset":"https://ardenit.sharepoint.com","folderPath":"/JobsReceipts","name":"@triggerBody()?['file']?['name']","body":"@triggerBody()?['file']?['contentBytes']"},"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"CreateFile"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}},"runtimeConfiguration":{"contentTransfer":{"transferMode":"Chunked"}}},"Update_file_properties":{"runAfter":{"Create_file":["Succeeded"]},"type":"OpenApiConnection","inputs":{"parameters":{"dataset":"https://ardenit.sharepoint.com","table":"0f969013-1977-4375-8d73-2b92b917a18a","id":"@outputs('Create_file')?['body/ItemId']","item/JobID":"@triggerBody()?['text']"},"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"PatchFileItem"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}}},"outputs":{}},"connectionReferences":{"shared_sharepointonline":{"connectionName":"99a41771bf1c42659e5ba88d7abce480","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false,"isManaged":false}}