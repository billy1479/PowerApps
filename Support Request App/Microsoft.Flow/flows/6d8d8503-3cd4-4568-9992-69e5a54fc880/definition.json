{"name":"d8d62db1-41e9-402c-908d-d10024cc0cde","id":"/providers/Microsoft.Flow/flows/d8d62db1-41e9-402c-908d-d10024cc0cde","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"UploadRequestFile","definition":{"metadata":{"workflowEntityId":null,"processAdvisorMetadata":null,"flowChargedByPaygo":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"flowclientsuspensionreasondetails":null,"creator":{"id":"13134e6f-726a-4429-a06f-ff49df8ba96e","type":"User","tenantId":"7250d88b-4b68-4529-be44-d59a2d8a6f94"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2024-01-06T15:57:11.6234252Z","connectionKeySavedTimeKey":"2024-01-06T15:57:11.6234252Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"metadata":{"operationMetadataId":"f2e0ce99-e37a-412b-b402-63a711ae7677"},"type":"Request","kind":"PowerAppV2","inputs":{"schema":{"type":"object","properties":{"file":{"title":"RequestFile","type":"object","x-ms-dynamically-added":true,"description":"Please select file or image","x-ms-content-hint":"FILE","properties":{"name":{"type":"string"},"contentBytes":{"type":"string","format":"byte"}}},"text":{"title":"RequestID","type":"string","x-ms-dynamically-added":true,"description":"Please enter your input","x-ms-content-hint":"TEXT"}},"required":["file","text"]}}}},"actions":{"Create_file":{"runAfter":{},"metadata":{"operationMetadataId":"a51fbc0f-a15d-4086-a637-1256df5ac4f2"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"CreateFile"},"parameters":{"dataset":"https://durhamuniversity.sharepoint.com/teams/DSC-SharePoint2","folderPath":"/Support Request Files","name":"@triggerBody()['file']['name']","body":"@triggerBody()['file']['contentBytes']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}},"runtimeConfiguration":{"contentTransfer":{"transferMode":"Chunked"}}},"Update_file_properties":{"runAfter":{"Create_file":["Succeeded"]},"metadata":{"operationMetadataId":"fd63bee3-ce5d-4108-b08d-22fbc7221bac"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"PatchFileItem"},"parameters":{"dataset":"https://durhamuniversity.sharepoint.com/teams/DSC-SharePoint2","table":"8e440264-9d47-48f3-84f7-8d54aae7d68d","id":"@outputs('Create_file')?['body/ItemId']","item/RequestID":"@triggerBody()['text']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}}},"outputs":{}},"connectionReferences":{"shared_sharepointonline":{"connectionName":"2110c1d75fa34c778f8af13a0858defa","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false,"isManaged":false}}